<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Getting Started with Blockchain</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="../css/styles.css">
   </head>
   <body>

      <!------------------------------ Alert box customation begins ---------------------------->
         <style>
               #dialogoverlay{
                  display: none;
                  opacity: .8;
                  position: fixed;
                  top: 0px;
                  left: 0px;
                  background: #FFF;
                  width: 100%;
                  z-index: 10;
               }
               #dialogbox{
                  display: none;
                  position: fixed;
                  background: #000;
                  border-radius:7px; 
                  width:550px;
                  z-index: 10;
               }
               #dialogbox > div{ background:#FFF; margin:8px; }
               #dialogbox > div > #dialogboxhead{ background: #666; font-size:19px; padding:10px; color:#CCC; }
               #dialogbox > div > #dialogboxbody{ background:#333; padding:20px; color:#FFF; }
               #dialogbox > div > #dialogboxfoot{ background: #666; padding:10px; text-align:right; }
               </style>
               <script>
               function CustomAlert(){
                   this.render = function(dialog){
                       var winW = window.innerWidth;
                       var winH = window.innerHeight;
                       var dialogoverlay = document.getElementById('dialogoverlay');
                       var dialogbox = document.getElementById('dialogbox');
                       dialogoverlay.style.display = "block";
                       dialogoverlay.style.height = winH+"px";
                       dialogbox.style.left = (winW/2) - (550 * .5)+"px";
                       dialogbox.style.top = "100px";
                       dialogbox.style.display = "block";
                       document.getElementById('dialogboxhead').innerHTML = " Listen up " + name + ". Important information is in your presence!";
                       document.getElementById('dialogboxbody').innerHTML = dialog;
                       document.getElementById('dialogboxfoot').innerHTML = '<button onclick="Alert.ok()">OK</button>';
                   }
                  this.ok = function(){
                     document.getElementById('dialogbox').style.display = "none";
                     document.getElementById('dialogoverlay').style.display = "none";
                  }
               }
               var Alert = new CustomAlert();
               </script>
               </head>
               <body>
               <div id="dialogoverlay"></div>
               <div id="dialogbox">
                 <div>
                   <div id="dialogboxhead"></div>
                   <div id="dialogboxbody"></div>
                   <div id="dialogboxfoot"></div>
                 </div>
               </div>
               
               <!--        <button onclick="alert('You look very pretty today.')">Default Alert</button>
                           <button onclick="Alert.render('You look very pretty today.')">Become a miner</button>
                           <button onclick="Alert.render('And you also smell very nice.')">Custom Alert 2</button>      --> 


<!--------------------------------------------- Alert box customation ends ---------------------------------------------------------->

<!---------------------------------------------- BG code Begins -------------------------------------------->
      <div class="header">
         <h1>Blockchain</h1>
         <p>An <b>Analytical-Educational</b> approach </p>
      </div>
      <div class="navbar">
         <a href="../index.html">Home</a>
         <a href="../merkle_tree/merkle.html">Merkle Trees</a>
         <a href="../hashing/hashing.html">Hashing</a>
         <a href="#" class="active">Consensus</a>
      </div>
      <div class="row">
         <div class="side">
            <h2>Sections</h2>
			<h3><a href="#"> Section One</a></a></h3>
			<h3><a href="#"> Section Two</a></a></h3>
			<h3><a href="#"> Section Three</a></a></h3>
         </div>
         <div class="main">
         <h2>CONSENSUS</h2>
            <br>
            <br>

         <button onclick="minerName()">Become a bitcoin miner</button>
         <p id="minerName"></p>      
         <p id="minernameMessage"></p> 
         <p id="minerGoodbye"></p> 
               <br>
               <br>
                                       
         <!-- Example of html button without Javascript functions:      <button onclick="alert('Create your mining network')">Initiate Default Alert</button> -->                       
         <button onclick="Alert.render('So, we know that Bitcoin is decentralized. This means that no single authority can make decisions for all parties. Instead the network is in control. This means that everytime a transaction is made, a copy is sent to every node in the network. These nodes represent an individual in the bitcoin network. Now, the mining network is special! The mining nodes are unique because they represent individuals who are actually mining bitcoin. miners are in a sense a subset of all nodes who make up the network. Lets use the good ol class room as an analogy to better explain. The class room represents the network. The students are nodes who represent users spending and exchanging bitcoin. The teacher represents the miner.')">Mining Network?</button> 
               <br> 
               <br>
               <br>
               <br>

         <button onclick="myMiners()">Create your mining network</button>       
         <p id="miners"></p>
         <p id="miningMessage"></p>
            <br>
            <br>
             
            
         <button onclick="Alert.render('Since bitcoin only allows a block to be added on average every 10 minutes, not all transactions can be verified instantly. How it works is, when a transaction is made it goes into a pool. Once a block is added, miners then go to the pool and pick out the next set of transactions they would like to add to a block. Its important to note that bitcoin has a data cap on its blocks, therefore a miner cannot select thousands of transactions. So, this leads miners to being very strategic in selecting their blocks. One good way to make sure your block is verified quickly is to leave a nice juicy tip for your miner. This certaintly gives some incentive to the miner. This is known as the miners tip. ')">Transactions?</button>        
            <br>
            <br>
            <br>
            <br>

         <button onclick="myTransactions()">Pick your transactions</button>
         <p id="transactions"></p>      
         <p id="transactionsMessage"></p> 
            <br>
            <br>
           
                

         <button onclick="Alert.render('A block header is an 80-byte long string. Its composition is as follows: A 4-byte long Bitcoin version number, 32-byte previous block hash, 32-byte long Merkle root, 4-byte long timestamp of the block, 4-byte long difficulty target for the block, and the 4-byte long nonce used by miners. The block header is the output of hasing all of the above. It is typically displayed as a 64 bit hexadecimal number with a bunch of zeros in front. So in essence, the block header contains the entire history of bitcoin')">Block Header?</button>
            <br>
            <br>
            <br>
            <br>
         <button onclick="blockHeader()">Grab last block's header</button>
         <p id="blockheaders"></p>      
         <p id="blockheadersMessage"></p> 

         <script>
               function minerName(){
               name = window.prompt("Welcome to the Bitcoin mining club aka The Consensus Crew (totally just made that up). Err.. Um... Don't take offense, this is totally embarassing but, what was your name again?");              
               alert("Ahhh, miner " +  name  + ". Has a cool ring to it. You look a bit weak. They sure don't make em like they used to. Good thing we rely on electricity and computing power to mine our blocks! Lets get started " + name);
               document.getElementById("minerGoodbye").innerHTML = name + ", your first objective is to go size up the competition! See who your up against. Create your  mining network to find out." ;
               }
         </script>

         
          <p id="name"></p>

		<script>             
         // Generating Random number for miner
         function myMiners()  {            
           document.getElementById("miners").innerHTML = Math.floor((Math.random() * 100) + 20); 
           document.getElementById("miningMessage").innerHTML = "Congratulations, " + name + " you did it! Looks like your competing against other miners. Buckle up, you got this " + name + "!!! <br/> <br/> <br/> Quick! It's a race to add the next block! Pick out your transactions and lets get rolling!"                              
         }          
      </script>

      <script>             
      // Generating Random number for miner
      function myTransactions()  {            
        document.getElementById("transactions").innerHTML = Math.floor((Math.random() * 150) + 50); 
        document.getElementById("transactionsMessage").innerHTML = "Great job " + name + "! We've got our transactions. And you managed to stay well under bitcoin's 1mb data limit, great job! Your a natural. <br/> <br/> <br/> Now let's go grab the networks last block header! We're going to need it. Remember, together with the header,  our transactions, and the nonce we'll have what it takes to complete this block. . <br/> <br/> <br/> Did I mention we are kind of in a rush? Let's go!!"
      }
      </script>

      <script>
        function blockHeader() {
         document.getElementById("blockheadersMessage").innerHTML = "Sweeeet! " + name + ", your on a roll. Look at that gorgeous hunk of hexadecimal. To think that this header holds the 'history' of  bitcoin is just amazing. <br/> <br/> <br/> I was wrong about you" + name + " your doing a remarkable job. Lets get ready "
         document.getElementById("blockheaders").innerHTML = "00000000000000000000000da86E8fB80D47Fb19443caaDA7c5FDF763E84A1c3190"
          /* {
         var result           = '';
         var characters       = 'ABCDEFabcdef0123456789';         
         var j = 100;
         document.getElementById("blockheadersMessage").innerHTML = "Sweeeet! " + name + " Your on a roll. Look at that gorgeous hunk of hexadecimals. To think that this header holds every single transaction and block every created on bitcoin is just amazing.  "

         for ( var i = 0; i < 64; i++ ) {
            document.getElementById("blockheaders").innerHTML += characters.charAt(Math.floor(Math.random() * characters.length));
                  }         
            return document.getElementById("blockheaders").innerHTML + document.getElementById("blockheadersMessage").innerHTML;  
                           }
       //document.write(blockHeader());
                        }  */  
                     }
      </script>
     
    
            <p>
			</p>
			<p>
			</p>
         </div>
      </div>
      <div class="footer">
         <h2>ECSU SENIOR RESEARCH PROJECT</h2>
      </div>
   </body>
</html>
